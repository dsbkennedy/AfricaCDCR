<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Session 1: Introduction to R | R Training Manual</title>
  <meta name="description" content="2 Session 1: Introduction to R | R Training Manual" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Session 1: Introduction to R | R Training Manual" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Session 1: Introduction to R | R Training Manual" />
  
  
  

<meta name="author" content="UK Public Health Rapid Support Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="session-2-data-management.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Session 1: Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#course-structure"><i class="fa fa-check"></i><b>2.1</b> Course structure</a></li>
<li class="chapter" data-level="2.2" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#why-r"><i class="fa fa-check"></i><b>2.2</b> Why R?</a></li>
<li class="chapter" data-level="2.3" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#installing-r"><i class="fa fa-check"></i><b>2.3</b> Installing R</a></li>
<li class="chapter" data-level="2.4" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#setting-up-files-and-folders"><i class="fa fa-check"></i><b>2.4</b> Setting up files and folders</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#best-practice"><i class="fa fa-check"></i><b>2.4.1</b> Best practice</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#navigating-in-r-studio"><i class="fa fa-check"></i><b>2.5</b> Navigating in R studio</a></li>
<li class="chapter" data-level="2.6" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#r-packages"><i class="fa fa-check"></i><b>2.6</b> R packages</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#what-is-an-r-package"><i class="fa fa-check"></i><b>2.6.1</b> What is an R package?</a></li>
<li class="chapter" data-level="2.6.2" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#installing-a-package"><i class="fa fa-check"></i><b>2.6.2</b> Installing a package</a></li>
<li class="chapter" data-level="2.6.3" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#loading-a-package"><i class="fa fa-check"></i><b>2.6.3</b> Loading a package</a></li>
<li class="chapter" data-level="2.6.4" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#using-a-package"><i class="fa fa-check"></i><b>2.6.4</b> Using a package</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#objects"><i class="fa fa-check"></i><b>2.7</b> Objects</a></li>
<li class="chapter" data-level="2.8" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#importing-data"><i class="fa fa-check"></i><b>2.8</b> Importing data</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#assigning-data-to-an-object"><i class="fa fa-check"></i><b>2.8.1</b> Assigning data to an object</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#exporting-data"><i class="fa fa-check"></i><b>2.9</b> Exporting data</a></li>
<li class="chapter" data-level="2.10" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#exercises"><i class="fa fa-check"></i><b>2.10</b> Exercises</a></li>
<li class="chapter" data-level="2.11" data-path="session-1-introduction-to-r.html"><a href="session-1-introduction-to-r.html#useful-resources"><i class="fa fa-check"></i><b>2.11</b> Useful resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="session-2-data-management.html"><a href="session-2-data-management.html"><i class="fa fa-check"></i><b>3</b> Session 2: Data management</a>
<ul>
<li class="chapter" data-level="3.1" data-path="session-2-data-management.html"><a href="session-2-data-management.html#data-types"><i class="fa fa-check"></i><b>3.1</b> Data types</a></li>
<li class="chapter" data-level="3.2" data-path="session-2-data-management.html"><a href="session-2-data-management.html#working-with-data"><i class="fa fa-check"></i><b>3.2</b> Working with data</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="session-2-data-management.html"><a href="session-2-data-management.html#looking-at-your-data"><i class="fa fa-check"></i><b>3.2.1</b> Looking at your data</a></li>
<li class="chapter" data-level="3.2.2" data-path="session-2-data-management.html"><a href="session-2-data-management.html#looking-at-one-variable"><i class="fa fa-check"></i><b>3.2.2</b> Looking at one variable</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="session-2-data-management.html"><a href="session-2-data-management.html#the-tidyverse"><i class="fa fa-check"></i><b>3.3</b> The tidyverse</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="session-2-data-management.html"><a href="session-2-data-management.html#tidy-data"><i class="fa fa-check"></i><b>3.3.1</b> Tidy data</a></li>
<li class="chapter" data-level="3.3.2" data-path="session-2-data-management.html"><a href="session-2-data-management.html#checking-if-data-are-tidy"><i class="fa fa-check"></i><b>3.3.2</b> Checking if data are tidy</a></li>
<li class="chapter" data-level="3.3.3" data-path="session-2-data-management.html"><a href="session-2-data-management.html#tidying-data"><i class="fa fa-check"></i><b>3.3.3</b> Tidying data</a></li>
<li class="chapter" data-level="3.3.4" data-path="session-2-data-management.html"><a href="session-2-data-management.html#wide-to-long"><i class="fa fa-check"></i><b>3.3.4</b> Wide to long</a></li>
<li class="chapter" data-level="3.3.5" data-path="session-2-data-management.html"><a href="session-2-data-management.html#piping"><i class="fa fa-check"></i><b>3.3.5</b> Piping</a></li>
<li class="chapter" data-level="3.3.6" data-path="session-2-data-management.html"><a href="session-2-data-management.html#merging"><i class="fa fa-check"></i><b>3.3.6</b> Merging</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="session-2-data-management.html"><a href="session-2-data-management.html#working-with-dates"><i class="fa fa-check"></i><b>3.4</b> Working with dates</a></li>
<li class="chapter" data-level="3.5" data-path="session-2-data-management.html"><a href="session-2-data-management.html#keeping-your-workspace-clear"><i class="fa fa-check"></i><b>3.5</b> Keeping your workspace clear</a></li>
<li class="chapter" data-level="3.6" data-path="session-2-data-management.html"><a href="session-2-data-management.html#useful-resource"><i class="fa fa-check"></i><b>3.6</b> Useful resource</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Session 3: Data analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#looking-at-your-data-1"><i class="fa fa-check"></i><b>4.1</b> Looking at your data</a></li>
<li class="chapter" data-level="4.2" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#building-an-analysis-dataset"><i class="fa fa-check"></i><b>4.2</b> Building an analysis dataset</a></li>
<li class="chapter" data-level="4.3" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#answering-questions-with-data"><i class="fa fa-check"></i><b>4.3</b> Answering questions with data</a></li>
<li class="chapter" data-level="4.4" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#missing-data"><i class="fa fa-check"></i><b>4.4</b> Missing data</a></li>
<li class="chapter" data-level="4.5" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#grouping-and-pivoting-data"><i class="fa fa-check"></i><b>4.5</b> Grouping and pivoting data</a></li>
<li class="chapter" data-level="4.6" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#filtering-data"><i class="fa fa-check"></i><b>4.6</b> Filtering data</a></li>
<li class="chapter" data-level="4.7" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#additional-questions-and-workflows"><i class="fa fa-check"></i><b>4.7</b> Additional questions and workflows</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#when-was-the-first-confirmed-case-of-covid-19-in-northern-africa"><i class="fa fa-check"></i><b>4.7.1</b> <em>When was the first confirmed case of COVID-19 in Northern Africa?</em></a></li>
<li class="chapter" data-level="4.7.2" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#using-the-results-in-rmarkdown"><i class="fa fa-check"></i><b>4.7.2</b> Using the results in RMarkdown</a></li>
<li class="chapter" data-level="4.7.3" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#moving-averages"><i class="fa fa-check"></i><b>4.7.3</b> Moving averages</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="session-3-data-analysis.html"><a href="session-3-data-analysis.html#useful-resources-1"><i class="fa fa-check"></i><b>4.8</b> Useful resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="session-4-data-visualisation.html"><a href="session-4-data-visualisation.html"><i class="fa fa-check"></i><b>5</b> Session 4: Data visualisation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="session-4-data-visualisation.html"><a href="session-4-data-visualisation.html#presenting-your-results-in-a-table"><i class="fa fa-check"></i><b>5.1</b> Presenting your results in a table</a></li>
<li class="chapter" data-level="5.2" data-path="session-4-data-visualisation.html"><a href="session-4-data-visualisation.html#visualising-data-using-ggplot"><i class="fa fa-check"></i><b>5.2</b> Visualising data using ggplot</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="session-4-data-visualisation.html"><a href="session-4-data-visualisation.html#epicurves"><i class="fa fa-check"></i><b>5.2.1</b> Epicurves</a></li>
<li class="chapter" data-level="5.2.2" data-path="session-4-data-visualisation.html"><a href="session-4-data-visualisation.html#building-your-confidence"><i class="fa fa-check"></i><b>5.2.2</b> Building your confidence</a></li>
<li class="chapter" data-level="5.2.3" data-path="session-4-data-visualisation.html"><a href="session-4-data-visualisation.html#picking-the-right-graph"><i class="fa fa-check"></i><b>5.2.3</b> Picking the right graph</a></li>
<li class="chapter" data-level="5.2.4" data-path="session-4-data-visualisation.html"><a href="session-4-data-visualisation.html#visualising-the-moving-average"><i class="fa fa-check"></i><b>5.2.4</b> Visualising the moving average</a></li>
<li class="chapter" data-level="5.2.5" data-path="session-4-data-visualisation.html"><a href="session-4-data-visualisation.html#combining-plots"><i class="fa fa-check"></i><b>5.2.5</b> Combining plots</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="session-4-data-visualisation.html"><a href="session-4-data-visualisation.html#useful-resources-2"><i class="fa fa-check"></i><b>5.3</b> Useful resources</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Training Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="session-1-introduction-to-r" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Session 1: Introduction to R</h1>
<ul>
<li>Course structure</li>
<li>Why R?</li>
<li>Installing R</li>
<li>Setting up files/folders</li>
<li>R packages</li>
<li>Importing data</li>
<li>Useful resources</li>
</ul>
<div id="course-structure" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Course structure</h2>
<p>6 teaching sessions drawing from several resources including the <a href="https://epirhandbook.com/">Epidemiologist R handbook</a></p>
<ul>
<li><p>An excellent resource for all skill/experience levels</p></li>
<li><p>Direct towards specific sections for you to work through in your own time</p></li>
<li><p>2 hours sessions, twice a week to present key topics and answer questions</p></li>
</ul>
</div>
<div id="why-r" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Why R?</h2>
<p><a href="https://data-flair.training/blogs/why-learn-r/"><img src="images/reasons_to_learn_R-01.jpg" width="400" alt="Why Learn R? 10 Handy Reasons to Learn R programming Language" /></a></p>
<p>Blog - <a href="https://shkspr.mobi/blog/2021/07/why-do-we-use-r-rather-than-excel/">Why do we use R rather than Excel?</a></p>
</div>
<div id="installing-r" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Installing R</h2>
<p>For this course, you will need to install 2 items:</p>
<ol style="list-style-type: decimal">
<li><p>R programming language</p></li>
<li><p>R Studio</p>
<ul>
<li><p>Integrated Development Environment (IDE)</p></li>
<li><p>A very helpful resource for writing and running R code</p></li>
</ul>
<p>You will need to install them in this order - First R, then R studio</p></li>
</ol>
<p><a href="https://www.earthdatascience.org/courses/earth-analytics/document-your-science/setup-r-rstudio/">Guide to installing R</a></p>
</div>
<div id="setting-up-files-and-folders" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Setting up files and folders</h2>
<div class="figure">
<img src="images/messy_files.jpg" width="450" alt="" />
<p class="caption">“Massive Wall of Organized Documents” by Zeusandhera is licensed with CC BY-SA 2.0. To view a copy of this license, visit <a href="https://creativecommons.org/licenses/by-sa/2.0/" class="uri">https://creativecommons.org/licenses/by-sa/2.0/</a></p>
</div>
<div id="best-practice" class="section level3" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Best practice</h3>
<p>Setting up files and folders will make your analysis (and life!) easier</p>
<ul>
<li><p>Folder structure</p></li>
<li><p>Naming files and folders</p></li>
</ul>
<div id="folder-structure" class="section level4" number="2.4.1.1">
<h4><span class="header-section-number">2.4.1.1</span> Folder structure</h4>
<p>R Studio works best when you use its project function</p>
<ul>
<li><p>Each project contains all of your inputs, outputs and code</p></li>
<li><p>This also makes it easier to share folders with colleagues</p>
<ul>
<li>Everything is in one place!</li>
</ul></li>
</ul>
<p>Projects are covered in more detail in the Epidemiologist R handbook: <a href="https://epirhandbook.com/r-projects.html">Chapter 6 “R Projects”</a></p>
</div>
<div id="naming-files-and-folders" class="section level4" number="2.4.1.2">
<h4><span class="header-section-number">2.4.1.2</span> Naming files and folders</h4>
<p>If you want to share your code with colleagues or return to code after several weeks/months, you will be grateful that you gave your files and folders meaningful names! Many organisations have style guides to ensure that teams can collaborate on coding projects.</p>
<ul>
<li><a href="https://style.tidyverse.org/files.html#names">Tidyverse style guide</a></li>
</ul>
<p><a href="https://style.tidyverse.org/files.html#names"><img src="images/code_organisation.png" width="800" alt="Tidyverse Style Guide - 1.2 Organisation" /></a></p>
<ul>
<li><p>Key points to remember for naming</p>
<ul>
<li><p>Keep the name short</p>
<ul>
<li><p>Instead of “<em>data_import_of_file_for_analysis.R</em>”</p>
<ul>
<li>“<em>import_file.R</em>”</li>
</ul></li>
</ul></li>
<li><p>Avoid spaces!</p>
<ul>
<li><p>Instead of “<em>import file.R</em>”</p>
<ul>
<li>“_” “<em>import_file.R</em>”</li>
<li>“-” “<em>import-file.R</em>”</li>
<li>camelCase “<em>importFile.R</em>”</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="navigating-in-r-studio" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Navigating in R studio</h2>
<p>RStudio is the most popular option for working with the R programming language. The Epidemiologist R handbook has a section discussing the various windows you will see when you start RStudio : <a href="https://epirhandbook.com/r-basics.html#rstudio">3.5 RStudio</a></p>
<p><a href="https://epirhandbook.com/r-basics.html#rstudio"><img src="images/RStudio_overview.PNG" width="500" /></a></p>
</div>
<div id="r-packages" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> R packages</h2>
<div id="what-is-an-r-package" class="section level3" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> What is an R package?</h3>
<p><em>Definition from the</em> Epidemiologist R handbook - 3.7 “<a href="https://epirhandbook.com/r-basics.html#packages">Packages</a>”</p>
<p><em>“An R package is a shareable bundle of code and documentation that contains pre-defined functions. Users in the R community develop packages all the time catered to specific problems, it is likely that one can help with your work! You will install and use hundreds of packages in your use of R.”</em></p>
<p>Packages can simplify your workflow by combining multiple steps into a smaller number of commands.</p>
<p>Example: <a href="https://readxl.tidyverse.org/"><strong>readxl</strong></a> is a package of functions used to import data from Excel to R.</p>
</div>
<div id="installing-a-package" class="section level3" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Installing a package</h3>
<p>install.packages(“readxl”)</p>
<p>We have asked R to install the package <strong>readxl</strong>.</p>
<p>The installation has been successful. You do not need to reinstall the packages every time you start a new project as they are saved in your library.</p>
<ul>
<li><p>In R, red text does not mean there has been an error! It means that R is warning you about something related to the function you have instructed R to apply to the data.</p>
<p>Epidemiologist R handbook: <a href="https://epirhandbook.com/r-basics.html#errors-warnings">Section 3.13 Errors vs. warnings</a></p>
<p>You will now be able to see the package in your list of packages.</p>
<p><img src="images/install_readxl.png" width="250" /></p></li>
</ul>
</div>
<div id="loading-a-package" class="section level3" number="2.6.3">
<h3><span class="header-section-number">2.6.3</span> Loading a package</h3>
<p>Now that <code>readxl</code> has been installed, you will be able to load it and use its functions.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="session-1-introduction-to-r.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span></code></pre></div>
<p><img src="images/load_readxl.png" width="250" /></p>
<p>When the package has been successfully loaded, you will see a tick mark in the box.</p>
<div id="pacman" class="section level4" number="2.6.3.1">
<h4><span class="header-section-number">2.6.3.1</span> pacman</h4>
<p>It is good practice to load all packages at the start of a script. This can help you to see which packages are being loaded and it ensures that you can write code without interruptions from the <em>library</em> command.</p>
<p>There is a package called <strong>pacman</strong> which can help with this process. When you run <code>pacman::p_load</code> you can list all of the packages you want to load. If the package has not previously been installed, <strong>pacman</strong> will install it. If the package has been installed, <strong>pacman</strong> will load it.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="session-1-introduction-to-r.html#cb2-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(readxl,here)</span></code></pre></div>
</div>
</div>
<div id="using-a-package" class="section level3" number="2.6.4">
<h3><span class="header-section-number">2.6.4</span> Using a package</h3>
<p>Each package has multiple functions that you can use on your data.</p>
<p>To read more about a particular package, type</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="session-1-introduction-to-r.html#cb3-1" aria-hidden="true" tabindex="-1"></a>?readxl</span></code></pre></div>
<div class="figure">
<img src="images/help_readxl.png" width="250" alt="" />
<p class="caption">Help documentation for readxl</p>
</div>
</div>
</div>
<div id="objects" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Objects</h2>
<p>So far we have installed, loaded and used a package (<strong>readxl</strong>). But how do we use the data generated from applying the functions? We assign the information to “objects”.</p>
<p><a href="https://epirhandbook.com/r-basics.html#objects">Section in Epidemiologist for R handbook about Objects</a></p>
<p><em>“Everything you store in R - datasets, variables, a list of village names, a total population number, even outputs such as graphs - are <strong>objects</strong> which are <strong>assigned a name</strong> and <strong>can be referenced</strong> in later commands.”</em></p>
<p>To explain objects, we will calculate a value, assign it to an object and then use the object for a second calculation.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="session-1-introduction-to-r.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>We can assign the calculation “2+2” to an object called “a”.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="session-1-introduction-to-r.html#cb6-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">+</span><span class="dv">2</span></span></code></pre></div>
<p>We can then use the object a to show the results of the calculation.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="session-1-introduction-to-r.html#cb7-1" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>We can also use this value for further calculations such as adding 4 to the object a.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="session-1-introduction-to-r.html#cb9-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">+</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="session-1-introduction-to-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> a<span class="sc">+</span><span class="dv">4</span></span></code></pre></div>
<p>The result of this calculation is now stored in the object “b”.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="session-1-introduction-to-r.html#cb12-1" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
</div>
<div id="importing-data" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> Importing data</h2>
<p>For this example, we want to import data that is currently stored in an Excel formatted file “.xlsx”. So we can use the function <em><code>read_xlsx</code> f</em>rom the <strong>readxl</strong> package.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="session-1-introduction-to-r.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_xlsx</span>(<span class="fu">here</span>(<span class="st">&#39;data&#39;</span>,<span class="st">&#39;AfricaCovid&#39;</span>,<span class="st">&#39;AfricaCovid.xlsx&#39;</span>))</span></code></pre></div>
<pre><code>## New names:
## * `` -&gt; ...1</code></pre>
<pre><code>## # A tibble: 58 x 2
##    ...1                     `www.hera-ngo.org`
##    &lt;chr&gt;                    &lt;chr&gt;             
##  1 &lt;NA&gt;                     org.hera@gmail.com
##  2 Country                  Last update       
##  3 Algeria                  44318             
##  4 Angola                   44318             
##  5 Benin                    44317             
##  6 Botswana                 44317             
##  7 Burkina Faso             44317             
##  8 Burundi                  44318             
##  9 Cameroon                 44317             
## 10 Central African Republic 44317             
## # … with 48 more rows</code></pre>
<p>But what does this show? And how can we use it?</p>
<ul>
<li>Before importing a file from Excel, it can be helpful to open the file in Excel so we can see what data are stored in the file</li>
</ul>
<p><img src="images/africa_covid_screenshot.png" width="400" /></p>
<p>So when we tell R to use the function <code>read_xlsx</code>, it reads the first sheet which is called “ReadMore”.It looks like this is a summary sheet with information about when data for each country was last updated. So how do we tell R to read in a different sheet from the Excel file?</p>
<p><em>Question - How many confirmed cases of COVID were recorded across Africa in July 2020?</em></p>
<p>First step - Import data from the sheet containing information on COVID cases</p>
<p>We can use the <code>excel_sheets</code> function from <strong>readxl</strong> to get the names of all sheets in the Excel workbook</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="session-1-introduction-to-r.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">excel_sheets</span>(<span class="fu">here</span>(<span class="st">&#39;data&#39;</span>,<span class="st">&#39;AfricaCovid&#39;</span>,<span class="st">&#39;AfricaCovid.xlsx&#39;</span>))</span></code></pre></div>
<pre><code>##  [1] &quot;ReadMore&quot;             &quot;Infected_per_day&quot;     &quot;Recovered_per_day&quot;   
##  [4] &quot;Deceased_per_day&quot;     &quot;Cumulative_infected&quot;  &quot;Cumulative_recovered&quot;
##  [7] &quot;Cumulative_deceased&quot;  &quot;SDN FLore&quot;            &quot;GHA Flore&quot;           
## [10] &quot;SLE Flore&quot;            &quot;ZAF Flore&quot;</code></pre>
<p>From this list we can see that we want to import data from the sheet “Infected_per_day”.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="session-1-introduction-to-r.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_xlsx</span>(<span class="fu">here</span>(<span class="st">&#39;data&#39;</span>,<span class="st">&#39;AfricaCovid&#39;</span>,<span class="st">&#39;AfricaCovid.xlsx&#39;</span>), <span class="at">sheet=</span><span class="st">&quot;Infected_per_day&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 53 x 492
##    ISO   COUNTRY_NAME     AFRICAN_REGION `43831` `43832` `43833` `43834` `43835`
##    &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1 DZA   Algeria          Northern Afri…       0       0       0       0       0
##  2 AGO   Angola           Southern Afri…       0       0       0       0       0
##  3 BEN   Benin            Western Africa       0       0       0       0       0
##  4 BWA   Botswana         Southern Afri…       0       0       0       0       0
##  5 BFA   Burkina Faso     Western Africa       0       0       0       0       0
##  6 BDI   Burundi          Central Africa       0       0       0       0       0
##  7 CMR   Cameroon         Central Africa       0       0       0       0       0
##  8 CAR   Central African… Central Africa       0       0       0       0       0
##  9 TCD   Chad             Central Africa       0       0       0       0       0
## 10 COM   Comoros          Eastern Africa       0       0       0       0       0
## # … with 43 more rows, and 484 more variables: 43836 &lt;dbl&gt;, 43837 &lt;dbl&gt;,
## #   43838 &lt;dbl&gt;, 43839 &lt;dbl&gt;, 43840 &lt;dbl&gt;, 43841 &lt;dbl&gt;, 43842 &lt;dbl&gt;,
## #   43843 &lt;dbl&gt;, 43844 &lt;dbl&gt;, 43845 &lt;dbl&gt;, 43846 &lt;dbl&gt;, 43847 &lt;dbl&gt;,
## #   43848 &lt;dbl&gt;, 43849 &lt;dbl&gt;, 43850 &lt;dbl&gt;, 43851 &lt;dbl&gt;, 43852 &lt;dbl&gt;,
## #   43853 &lt;dbl&gt;, 43854 &lt;dbl&gt;, 43855 &lt;dbl&gt;, 43856 &lt;dbl&gt;, 43857 &lt;dbl&gt;,
## #   43858 &lt;dbl&gt;, 43859 &lt;dbl&gt;, 43860 &lt;dbl&gt;, 43861 &lt;dbl&gt;, 43862 &lt;dbl&gt;,
## #   43863 &lt;dbl&gt;, 43864 &lt;dbl&gt;, 43865 &lt;dbl&gt;, 43866 &lt;dbl&gt;, 43867 &lt;dbl&gt;,
## #   43868 &lt;dbl&gt;, 43869 &lt;dbl&gt;, 43870 &lt;dbl&gt;, 43871 &lt;dbl&gt;, 43872 &lt;dbl&gt;,
## #   43873 &lt;dbl&gt;, 43874 &lt;dbl&gt;, 43875 &lt;dbl&gt;, 43876 &lt;dbl&gt;, 43877 &lt;dbl&gt;,
## #   43878 &lt;dbl&gt;, 43879 &lt;dbl&gt;, 43880 &lt;dbl&gt;, 43881 &lt;dbl&gt;, 43882 &lt;dbl&gt;,
## #   43883 &lt;dbl&gt;, 43884 &lt;dbl&gt;, 43885 &lt;dbl&gt;, 43886 &lt;dbl&gt;, 43887 &lt;dbl&gt;,
## #   43888 &lt;dbl&gt;, 43889 &lt;dbl&gt;, 43890 &lt;dbl&gt;, 43891 &lt;dbl&gt;, 43892 &lt;dbl&gt;,
## #   43893 &lt;dbl&gt;, 43894 &lt;dbl&gt;, 43895 &lt;dbl&gt;, 43896 &lt;dbl&gt;, 43897 &lt;dbl&gt;,
## #   43898 &lt;dbl&gt;, 43899 &lt;dbl&gt;, 43900 &lt;dbl&gt;, 43901 &lt;dbl&gt;, 43902 &lt;dbl&gt;,
## #   43903 &lt;dbl&gt;, 43904 &lt;dbl&gt;, 43905 &lt;dbl&gt;, 43906 &lt;dbl&gt;, 43907 &lt;dbl&gt;,
## #   43908 &lt;dbl&gt;, 43909 &lt;dbl&gt;, 43910 &lt;dbl&gt;, 43911 &lt;dbl&gt;, 43912 &lt;dbl&gt;,
## #   43913 &lt;dbl&gt;, 43914 &lt;dbl&gt;, 43915 &lt;dbl&gt;, 43916 &lt;dbl&gt;, 43917 &lt;dbl&gt;,
## #   43918 &lt;dbl&gt;, 43919 &lt;dbl&gt;, 43920 &lt;dbl&gt;, 43921 &lt;dbl&gt;, 43922 &lt;dbl&gt;,
## #   43923 &lt;dbl&gt;, 43924 &lt;dbl&gt;, 43925 &lt;dbl&gt;, 43926 &lt;dbl&gt;, 43927 &lt;dbl&gt;,
## #   43928 &lt;dbl&gt;, 43929 &lt;dbl&gt;, 43930 &lt;dbl&gt;, 43931 &lt;dbl&gt;, 43932 &lt;dbl&gt;,
## #   43933 &lt;dbl&gt;, 43934 &lt;dbl&gt;, 43935 &lt;dbl&gt;, …</code></pre>
<p>We can see a snapshot of the data from the sheet “Infected_per_day”</p>
<div id="assigning-data-to-an-object" class="section level3" number="2.8.1">
<h3><span class="header-section-number">2.8.1</span> Assigning data to an object</h3>
<p>We have previously used the function <code>read_xlsx</code> from the package <strong>readxl</strong> to import data from an Excel spreadsheet.</p>
<p>However, we didn’t assign this data to an object, so it is not possible to use the data from the import step.</p>
<p>We can assign the data to an object and then conduct further analysis.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="session-1-introduction-to-r.html#cb21-1" aria-hidden="true" tabindex="-1"></a>africa_covid_cases <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">here</span>(<span class="st">&#39;data&#39;</span>,<span class="st">&#39;AfricaCovid&#39;</span>,<span class="st">&#39;AfricaCovid.xlsx&#39;</span>), <span class="at">sheet=</span><span class="st">&quot;Infected_per_day&quot;</span>)</span></code></pre></div>
<p>You will now see the object in the “Environment” section of R Studio.</p>
<p><img src="images/africa_covid_cases_environment.png" width="250" /></p>
<p>Now the data have been assigned to the object “<code>africa_covid_cases</code>”, we can start to work with the data.</p>
</div>
</div>
<div id="exporting-data" class="section level2" number="2.9">
<h2><span class="header-section-number">2.9</span> Exporting data</h2>
<p>Along with importing data, R can be used to export objects. This can be helpful if you need to send an analysis dataset to a colleague. There are many options for exporting data. The simplest is the <code>write.csv</code>function which is pre-installed when you run R</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="session-1-introduction-to-r.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(africa_covid_cases, <span class="fu">here</span>(<span class="st">&#39;data&#39;</span>, <span class="st">&#39;africa_covid_cases_long.csv&#39;</span>))</span></code></pre></div>
<p>This will save a csv file containing the data from the africa_covid_cases_long object.</p>
<p>The package <strong>readxl</strong> contains several functions for importing data. There is another package called <strong>writexl</strong> which has multiple functions for exporting data.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="session-1-introduction-to-r.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;writexl&quot;</span>)</span></code></pre></div>
<p><strong>To use writexl to export a</strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="session-1-introduction-to-r.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(writexl)</span>
<span id="cb24-2"><a href="session-1-introduction-to-r.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_xlsx</span>(africa_covid_cases, <span class="fu">here</span>(<span class="st">&#39;data&#39;</span>, <span class="st">&#39;africa_covid_cases_long.xlsx&#39;</span>))</span></code></pre></div>
</div>
<div id="exercises" class="section level2" number="2.10">
<h2><span class="header-section-number">2.10</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li><p>Open R, and run the readxl package</p>
<ul>
<li><em>What does the readxl package do?</em></li>
</ul></li>
<li><p>Import the  Excel dataset (africa_cdc_covid_cases.xlsx) into R</p></li>
</ol>
</div>
<div id="useful-resources" class="section level2" number="2.11">
<h2><span class="header-section-number">2.11</span> Useful resources</h2>
<p><u>Epidemiologist R handbook</u></p>
<ul>
<li><p>Basics</p>
<ul>
<li><p>3: <a href="https://epirhandbook.com/r-basics.html">R Basics</a></p></li>
<li><p>4: <a href="https://epirhandbook.com/transition-to-r.html">Transition to R</a></p></li>
<li><p>5: <a href="https://epirhandbook.com/suggested-packages-1.html">Suggested packages</a></p></li>
<li><p>6: <a href="https://epirhandbook.com/r-projects.html">R projects</a></p></li>
<li><p>7: <a href="https://epirhandbook.com/import-and-export.html">Import/Export</a></p></li>
</ul></li>
</ul>
<p><a href="https://r4ds.had.co.nz/">R for Data Science</a></p>
<p><a href="https://jules32.github.io/r-for-excel-users/">R for Excel users</a></p>
<p><a href="https://github.com/iamericfletcher/awesome-r-learning-resources">Awesome R learning resources</a></p>
<p><a href="https://rafalab.github.io/dsbook/getting-started.html">Getting started with R and RStudio</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="session-2-data-management.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
